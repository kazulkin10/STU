ENV=dev
LOG_LEVEL=info
PUBLIC_BASE_URL=http://localhost:8080

# PostgreSQL (общие значения; при необходимости можно переопределять префиксами API_GATEWAY_, AUTH_, REALTIME_, MEDIA_)
DATABASE_URL=postgres://stu:stu@postgres:5432/stu?sslmode=disable
DB_MAX_CONNS=16

# Если хотите разные подключения для сервисов — раскомментируйте и задайте
# API_GATEWAY_DATABASE_URL=
# AUTH_DATABASE_URL=
# REALTIME_DATABASE_URL=
# MEDIA_DATABASE_URL=
# ADMIN_DATABASE_URL=

# Redis
REDIS_ADDR=redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# MinIO
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=stu-media
MINIO_USE_SSL=false

# Mailpit для dev. Для prod поменяйте MAIL_MODE=mailersend и задайте MAILERSEND_API_KEY + MAIL_FROM.
MAIL_MODE=mailpit
MAILERSEND_API_KEY=
MAIL_FROM=no-reply@stu.local
MAIL_FROM_NAME=Stu
SMTP_HOST=mailpit
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=

# AI moderation (Timeweb)
TIMEWEB_AGENT_URL=https://agent.timeweb.cloud/api/v1/cloud-ai/agents/6087a6cd-b070-4bcc-8b71-9aaed01c2168/v1
TIMEWEB_AGENT_ACCESS_ID=6087a6cd-b070-4bcc-8b71-9aaed01c2168
TIMEWEB_AGENT_API_KEY=
MOD_AGENT_URL=http://moderation-agent:8085/analyze

# HTTP ports (обычно не трогаем в docker-compose)
API_GATEWAY_HTTP_ADDR=:8080
AUTH_HTTP_ADDR=:8081
REALTIME_HTTP_ADDR=:8082
MEDIA_HTTP_ADDR=:8083
ADMIN_HTTP_ADDR=:8084

# Безопасность / лимиты
# CORS_ALLOWED_ORIGINS=*
# ENABLE_HSTS=false
RATE_LIMIT_RPM=60
